<div class="w-full h-full">
  @if(alojamientos_shown.length == 0) {
    <c-row class="mt-5">
      <c-col>
        <p style="width: 100%; text-align: center;">No se encontraron resultados</p>
      </c-col>
    </c-row>
  }
  @if(alojamientos_shown.length > 0) {
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5">
        @for (item of alojamientos_shown; track $index) {
          <app-hero-item [alojamiento]="item" (click)="visible = true; alojamiento_selected = item"></app-hero-item>
        }
    </div>
  }
</div>
<c-modal #modalXlMap id="modalXlMap" [backdrop]="'static'" size="xl" [fullscreen]="true" [visible]="visible_map" (visibleChange)="handleChangeMap($event)">
  <c-modal-header>
    <h5 cModalTitle>Luxury Stays - Inmuebles disponibles</h5>
    <button cButtonClose (click)="cancelar()"></button>
  </c-modal-header>
  <c-modal-body>
      <c-row class="mb-2">
        <c-col>
          @if (markers.length > 0){
            <app-map
              [seleccionable]="false"
              [show_hints]="true"
              [width]="'100%'"
              [height]="'88vh'"
              [markers]="markers"
              [mapCenter]="markers[0].position"
              (marker_selected)="marker_selected($event)">
            </app-map>
          }
          @if (markers.length == 0){
            No existen alojamientos cargados
          }
        </c-col>
      </c-row>
  </c-modal-body>
</c-modal>

<c-modal #modalXl id="modalXl" size="xl" [backdrop]="'static'" [visible]="visible" (visibleChange)="handleChange($event)">
  <c-modal-header>
    <h5 cModalTitle>{{alojamiento_selected.nombre}}</h5>
    <button cButtonClose (click)="cancelar()"></button>
  </c-modal-header>
  <c-modal-body>
      <app-alojamiento-preview [alojamiento]="alojamiento_selected" [propietarios]="propietarios" (show_reservation_modal)="show_reservation_modal($event)" (cancel_modal)="cancelar()"></app-alojamiento-preview>
  </c-modal-body>
</c-modal>

<c-modal #modalXlReservation id="modalXlReservation" [backdrop]="'static'" size="xl" [visible]="visible_reservation" (visibleChange)="handleChangeReservation($event)">
  <c-modal-header>
    <h5 cModalTitle>Reservar - {{alojamiento_selected.nombre}}</h5>
    <button cButtonClose (click)="cancelar()"></button>
  </c-modal-header>
  <c-modal-body>
      <app-reservation [alojamiento]="alojamiento_selected" (cancel_modal)="cancelar()" (login_modal)="show_login()" (reservation)="do_reservation($event)" [reservas]="alojamiento_selected.reservas"></app-reservation>
  </c-modal-body>
</c-modal>

<c-modal #modalXlLogin id="modalXlLogin" size="xl" [backdrop]="'static'" [visible]="visible_login" (visibleChange)="handleChangeLogin($event)">
  <c-modal-header>
    <h2>Te damos la Bienvenida</h2>
    <button cButtonClose (click)="cancelar()"></button>
  </c-modal-header>
  <c-modal-body>
      <app-login (login_done)="cancelar()"></app-login>
  </c-modal-body>
</c-modal>

<c-modal #modalXlProfile id="modalXlProfile" size="xl" [visible]="visible_profile" [backdrop]="'static'" (visibleChange)="handleChangeProfile($event)">
  <c-modal-header>
    Actualizaci√≥n del Perfil
    <button cButtonClose (click)="cancelar()"></button>
  </c-modal-header>
  <c-modal-body>
      <app-profile></app-profile>
  </c-modal-body>
</c-modal>

<c-modal #modalXlExperience id="modalXlExperience" [backdrop]="'static'" size="xl" [visible]="visible_experience" (visibleChange)="handleChangeExperience($event)">
  <c-modal-header>
    <h5 cModalTitle>Mis Experiencias</h5>
    <button cButtonClose (click)="cancelar()"></button>
  </c-modal-header>
  <c-modal-body>
      <app-experiences [is_visible]="visible_experience" [alojamientos]="alojamientos"></app-experiences>
  </c-modal-body>
</c-modal>
